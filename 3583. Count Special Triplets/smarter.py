class Solution:
    def specialTriplets(self, nums):
        MOD = 10**9 + 7
        n = len(nums)

        from collections import Counter

        # count occurrences on the right
        right = Counter(nums)
        left = Counter()

        total = 0

        for j, x in enumerate(nums):
            # remove current from right
            right[x] -= 1
            if right[x] == 0:
                del right[x]

            # nums[i] must be 2*x
            left_count = left[2*x]
            # nums[k] must be 2*x
            right_count = right.get(2*x, 0)

            total = (total + left_count * right_count) % MOD

            # add current to left
            left[x] += 1

        return total

sol = Solution()
nums = [27219,88849,78494,12507,61301,15710,74461,78618,46703,26607,52473,79934,92538,42938,41759,95927,43595,85093,24491,5969,30638,90438,38355,22963,1417,26178,39708,8052,39537,54908,42881,98993,51695,43910,96873,52133,41172,14279,37076,3002,60786,22413,42866,60272,82861,95362,78033,72537,66634,82809,81537,65318,36328,39713,83810,18915,29313,52132,99355,16668,2976,30621,77173,81343,12072,99622,91322,18730,72623,17681,7662,52502,87744,20834,25185,18892,7889,83615,79020,73488,22977,60236,68232,93059,87954,31969,77709,85762,14097,2382,57181,10884,38047,17991,36422,53353,71518,15048,33432,76247,33228,80790,9247,68459,71456,8972,32126,28835,89229,27913,74036,16651,50670,9958,24434,97076,21335,6693,64205,4153,53708,8462,64319,30201,13530,54467,38980,7131,16873,34194,69546,47545,46269,79045,65395,1084,39746,71958,15048,96203,51175,55962,95394,65413,28152,50716,64790,61870,80402,85856,45962,82407,17207,24438,83377,26309,32747,41984,17241,4049,7833,75489,22899,40162,19856,25596,84824,87621,67023,30501,53053,52410,32091,42029,94552,13034,96710,23008,39351,61343,98316,10031,13567,77307,16092,22005,61564,21536,36994,9627,13531,6728,75522,59498,82954,76329,92816,96157,29579,96787,5752,69631,98871,97444,98700,71676,13030,70681,20332,86670,39713,27152,35783,81860,42881,61930,1092,84401,4546,44021,80501,13453,9212,21484,65631,55715,89361,31082,63418,95218,9074,75832,21763,23504,14488,22742,86982,43843,99275,62686,52121,53835,77821,85762,33598,15096,69051,41988,46486,75036,8472,88049,48714,6357,1156,24187,12159,36060,81371,16601,81250,50781,6657,7296,88046,89292,69550,93264,91475,81247,13284,17689,79711,40322,26137,19407,32201,93928,67995,98247,82823,84271,85928,22755,92538,5865,80920,91808,87179,75599,87202,48234,64241,42281,99780,48884,1382,52830,3672,56955,12331,44987,16885,66434,55996,75064,40680,74703,61187,74604,30434,11580,33521,5806,64917,37187,66782,74441]
print(sol.specialTriplets(nums))